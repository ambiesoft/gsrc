<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0128)https://www.chromium.org/developers/how-tos/debugging-on-windows/windbg-help?tmpl=/system/app/templates/print/&showPrintDialog=1 -->
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="chrome=1">
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" href="https://www.chromium.org/_/rsrc/1354323194313/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="https://www.chromium.org/_/rsrc/1484148948583/apple-touch-icon.png" type="image/png">
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/developers","deleted":false,"title":"For Developers","dir":"ltr"},{"path":"/developers/how-tos","deleted":false,"title":"How-Tos","dir":"ltr"},{"path":"/developers/how-tos/debugging-on-windows","deleted":false,"title":"Debugging Chromium on Windows","dir":"ltr"},{"path":"/developers/how-tos/debugging-on-windows/windbg-help","deleted":false,"title":"WinDBG help","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/a72935/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":true,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://427742698-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED_WITH_INDICATOR","siteTitle":"The Chromium Projects","experiments":{"enableSubpagesGadgetInTakeout":true,"DisableSiteEditingFeature__disable_site_editing":false},"jot2atari":{"eligibility":"ineligible"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":false,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/a/chromium.org/dev/developers/how-tos/debugging-on-windows/windbg-help?showPrintDialog%3D1%26tmpl%3D%252Fsystem%252Fapp%252Ftemplates%252Fprint%252F\u0026service\u003djotspot","analyticsAccountId":"UA-5484340-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/a72935/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/a72935/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/a72935/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/a72935/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/a72935/system/app/css/trogedit.css","/_/rsrc/1621495252000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/a72935/system/app/css/codeeditor.css","/_/rsrc/1621495252000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"chromium.org","baseUri":"","name":"dev","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/developers/how-tos/debugging-on-windows","parentWuid":"wuid:gx:527515b958e22f7b","siteLocale":"en","timeZone":"Asia/Tokyo","type":"text","title":"WinDBG help","locale":"en","wuid":"wuid:gx:2850ed2121035d1a","revision":12,"path":"/developers/how-tos/debugging-on-windows/windbg-help","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"windbg-help","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="./windbg-help_files/standard-css-beigeandblue-ltr-ltr.css">
<link rel="stylesheet" type="text/css" href="./windbg-help_files/overlay.css">
<link rel="stylesheet" type="text/css" href="./windbg-help_files/allthemes-view.css">
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
<script src="./windbg-help_files/ga.js.download"></script></head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class="en" style="background-color: #fff">
<div id="sites-chrome-everything" style="direction:ltr">
<div id="sites-chrome-main-wrapper">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0">
<tbody><tr>
<td id="sites-canvas" style="border: none;">
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<a href="https://www.chromium.org/developers" dir="ltr">For Developers</a>‎ &gt; ‎<a href="https://www.chromium.org/developers/how-tos" dir="ltr">How-Tos</a>‎ &gt; ‎<a href="https://www.chromium.org/developers/how-tos/debugging-on-windows" dir="ltr">Debugging Chromium on Windows</a>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">WinDBG help</span>
</h3>
<div class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div dir="ltr"><div dir="ltr"><div dir="ltr"><div dir="ltr"><div><div><a href="http://www.microsoft.com/whdc/DevTools/Debugging/default.mspx" rel="nofollow" style="font-size:10pt;background-color:transparent" target="_blank">WinDBG</a><span style="font-size:13.3333px;background-color:transparent">&nbsp;is</span> a great, free tool. It is more powerful than Vi<span style="font-size:13.3333px;background-color:transparent">sual Studio's built-in debugger, but is harder to use (kind of like gdb on Linux). You can retrieve the&nbsp;</span><a href="http://msdn.microsoft.com/en-us/windows/hardware/hh852365" rel="nofollow" style="font-size:13.3333px;background-color:transparent" target="_blank">latest version</a><span style="font-size:13.3333px;background-color:transparent">&nbsp;from Microsoft's web site. You should end up with two versions of the tool: the 32-bit debugger and the 64-bit debugger. If you already have it installed or if you are using the packaged Chromium toolchain (which includes windbg) then you can launch it using tools\win\windbg32.bat or tools\win\windbg64.bat. These batch files find and run the appropriate version, wherever it is.</span></div><h3 style="font-size:13.3333px"><a name="TOC-Initial-setup"></a>Initial setup</h3><div style="font-size:13.3333px">Once you're started, you may wish to fix a few things. If you have run WinDbg before and saved any workspaces, you may wish to start with a clean slate by deleting the key HKCU\Software\Microsoft\Windbg using your favorite registry editor.</div></div><div><ol><li><span style="font-size:13.3333px">Set the environment variable&nbsp;</span><b><font color="#38761d" face="courier new, monospace" size="3">_NT_SYMBOL_PATH</font></b><span style="font-size:13.3333px">, as per </span><a href="https://msdn.microsoft.com/library/windows/hardware/ff558829.aspx#controlling_the_symbol_path" style="font-size:13.3333px" target="_blank">Symbol path for Windows debuggers</a>&nbsp;(e.g., File -&gt; Symbol Search Path)<span style="font-size:13.3333px">, to:<br></span><font style="background-color:transparent"><font><span style="font-size:13.3333px"><br></span><font color="#38761d" size="3" style="font-family:courier new"><b>SRV*c:\code\symbols*https://msdl.microsoft.com/download/symbols;SRV*c:\code\symbols*</b></font></font></font><span style="font-family:courier new,monospace;background-color:transparent"><b><font color="#38761d"><font size="3">https://chromium-browser-symsrv.commondatastorage.googleapis.com</font><br><br></font></b></span></li><li><span style="font-size:13.3333px;background-color:transparent">Configure WinDbg to use a sensible window layout by navigating explorer to&nbsp;</span><span style="font-size:13.3333px">"</span><font size="3"><font color="#38761d" face="courier new, monospace"><b>C:\Program Files (x86)\Windows Kits\10\Debuggers\x64\themes</b></font>"</font><font size="2"> and double-clicking on </font><font color="#38761d" face="courier new, monospace" style="font-size:medium"><b>standard.reg</b></font><span style="font-size:13.3333px">.</span></li><li><span style="font-size:13.3333px">Launch </span><b><font color="#38761d" face="courier new, monospace" size="3">windbg.exe</font></b><span style="font-size:13.3333px"> and:</span></li><ol><li><span style="font-size:13.3333px">In&nbsp;the menu&nbsp;</span><i style="font-size:13.3333px">File,</i><span style="font-size:13.3333px">&nbsp;</span><i style="font-size:13.3333px">Source File Path...</i><span style="font-size:13.3333px">, set the path to </span><font color="#38761d" face="courier new, monospace" size="3"><b>srv*</b></font><span style="font-size:13.3333px">.</span></li><ul><li><span style="font-size:10pt;background-color:transparent">If&nbsp;</span><span style="font-size:10pt;font-family:arial,sans-serif;background-color:transparent">you have a local checkout of the source, you can just point&nbsp;<i>Source Path</i>&nbsp;to the root of your code (src). Multiple paths are separated by semicolons.</span></li><li><span style="font-size:10pt;font-family:arial,sans-serif;background-color:transparent">If you want to download the individual source files to a given directory, add the destination to the path like&nbsp;</span><span style="font-size:10pt;font-family:arial,sans-serif;background-color:transparent">so:&nbsp;</span><span style="background-color:transparent"><font color="#38761d" face="courier new, monospace" size="3"><b>srv*c:\path\to\downloaded\sources;c:\my\checkout\src</b></font></span></li></ul><li style="font-size:13.3333px"><span style="font-size:13.3333px;font-family:arial,sans-serif;background-color:transparent">In the menu&nbsp;<i>View</i>,&nbsp;<i>Source language file extensions</i>..., add&nbsp;</span><font color="#38761d" face="courier new, monospace" size="3" style="background-color:transparent"><b>cc=C++</b></font><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent">&nbsp;to have automatic source colors.</font></li><li style="font-size:13.3333px"><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent">Optionally, customize the window layout as desired via the <i>View</i> menu, and d</font><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent">ock the windows as you want them to be.&nbsp;Note that the UI allows multiple "Docks" and each Dock can have multiple&nbsp;tiled&nbsp;panels in it, and each panel can have&nbsp;multiple tabbed windows. You may want to have source files to be&nbsp;</font><span style="font-size:13.3333px;font-family:arial,sans-serif;background-color:transparent">tabbed on the same panel, and visible at the same time as local variables and the stack and command windows. It is useful to realize that by default windbg creates a workspace per debugged executable or minidump, so each target can have its own configuration. The "default" workspace is applied to new targets.</span></li><li style="font-size:13.3333px"><font face="arial, sans-serif" style="font-size:13.3333px;background-color:transparent">Optionally, run additional customization commands such as:</font></li><ol><li><font color="#38761d" face="courier new, monospace" size="3"><b>.asm no_code_bytes</b></font></li><ul><li><span style="font-size:10pt;background-color:transparent">disables display of opcodes</span></li></ul><li><b><font color="#38761d" face="courier new, monospace" size="3">.prompt_allow -sym -dis -ea -reg -src</font></b></li><ul><li><span style="font-size:10pt;background-color:transparent">Disables display of symbol for the current instruction, disassembled instructions, effective address of current instruction, current state of registers and source line for the current instruction</span></li></ul><li><font color="#38761d" face="courier new, monospace" size="3"><b>.srcfix</b></font></li><ul><li>Enables source server. This tells the debugger to use information in the Chrome PDBs to download the correct version of all necessary source files.</li></ul></ol><li>Use <i>File, Save Workspace</i>&nbsp;to make this new configuration the default for all future execution.</li><li>Exit windbg.</li></ol><li style="font-size:13.3333px"><span style="font-size:13.3333px;background-color:transparent">In Windows Explorer, associate&nbsp;</span><font color="#38761d" face="courier new, monospace" size="3" style="background-color:transparent"><b>.dmp</b></font><span style="font-size:13.3333px;background-color:transparent">&nbsp;extension with windbg.exe. You may have to manually add -z to the open command like so:&nbsp;</span><font color="#38761d" face="courier new, monospace" size="3" style="background-color:transparent"><b>"...\windbg.exe" -z "%1"</b></font><span style="font-size:13.3333px;background-color:transparent">&nbsp;to make this work properly. Alternatively, run&nbsp;</span><font color="#38761d" face="courier new, monospace" size="3" style="background-color:transparent"><b>windbg.exe -IA</b></font></li><li style="font-size:13.3333px">Register as the default just in time debugger:&nbsp;<font color="#38761d" face="courier new, monospace" size="3"><b>windbg.exe -I</b></font></li></ol><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent"><span style="color:rgb(0,0,0);font-family:Arial,Verdana,sans-serif;font-size:13.3333px;font-weight:normal">To set your symbol and source environment variables permanently, you can run the following commands:</span></b></div><div><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent"><span style="color:rgb(0,0,0);font-family:Arial,Verdana,sans-serif;font-size:13.3333px;font-weight:normal"><br></span></b></div><div><font style="font-size:13.3333px;background-color:transparent"><font color="#38761d" size="3" style="font-family:courier new"><b>setx&nbsp;</b></font></font><b style="font-size:13.3333px;background-color:transparent"><font color="#38761d" face="courier new, monospace" size="3">_NT_SYMBOL_PATH&nbsp;</font></b><font style="font-size:13.3333px;background-color:transparent"><font color="#38761d" size="3" style="font-family:courier new"><b>SRV*c:\code\symbols*https://msdl.microsoft.com/download/symbols;SRV*c:\code\symbols*</b></font></font><span style="font-size:13.3333px;font-family:courier new,monospace;background-color:transparent"><b><font color="#38761d"><font size="3">https://chromium-browser-symsrv.commondatastorage.googleapis.com</font></font></b></span></div><div><span style="font-size:13.3333px;font-family:courier new,monospace;background-color:transparent"><b><font color="#38761d"><font size="3">setx _NT_SOURCE_PATH&nbsp;</font></font></b></span><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent">SRV*c:\code\source;c:\my\checkout\src</b></div><div><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent"><br></b></div></div></div></div></div><div dir="ltr"><div dir="ltr"><div dir="ltr"><div dir="ltr"><div><h3 style="font-size:13.3333px"><a name="TOC-Common-commands"></a>Common commands</h3><ul style="font-size:13.3333px"><li><tt><font color="#38761d" face="courier new, monospace" size="3"><b>dt this-&gt;member_</b></font></tt></li><ul><li><font face="arial, sans-serif" size="2">Displays the data</font></li></ul></ul><ul style="font-size:13.3333px"><li><tt><font color="#38761d" face="courier new, monospace" size="3"><b>x chrome*!*function_name</b></font></tt></li><ul><li><font face="arial, sans-serif" size="2">Finds a symbol.</font></li></ul></ul><ul><li style="font-size:13.3333px"><tt><font color="#38761d" face="courier new, monospace" size="3"><b>.open -a [symbol address or complete symbol name found by using x]</b></font></tt></li><ul style="font-size:13.3333px"><li><font face="arial, sans-serif" size="2">Opens the source file containing the specified symbol. Pretty neat.</font></li></ul><li><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent">k</b></li><ul><li><font face="arial, sans-serif" size="2">Displays the stack.</font></li><li><font color="#38761d" face="courier new, monospace" size="3"><b>kP</b></font><font face="arial, sans-serif" style="font-size:small">: Show all parameters.</font></li><li><font color="#38761d" face="courier new, monospace" size="3"><b>kM</b></font><span style="font-size:small;font-family:arial,sans-serif">: Show links to each stack frame.</span></li><li style="font-size:small;font-family:arial,sans-serif">Clicking on the links shifts into the other stack frame, allowing you to browse locals, etc.</li><ul></ul></ul></ul><ul><li><tt><font color="#38761d" face="courier new, monospace" size="3"><b>?? [data name]</b></font></tt></li><ul style="font-size:13.3333px"><li><font face="arial, sans-serif" size="2">Quick evaluation of a C++ symbol (local variable, etc). You don't need to specify&nbsp;<tt>this-&gt;</tt>&nbsp;for member variables but it's slower if you don't.</font></li></ul></ul><ul><li style="font-size:13.3333px"><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent">dv [/V]</b></li><ul style="font-size:13.3333px"><li><span style="font-family:arial,sans-serif;font-size:small;background-color:transparent">Displays local variables</span></li></ul><li><font color="#38761d" face="courier new, monospace" size="3"><b>dt varname</b></font></li><ul><li><font face="arial, sans-serif" size="2">Displays a variable.</font></li></ul></ul><ul style="font-size:13.3333px"><li><font color="#38761d" face="courier new, monospace" size="3"><b>dd address</b></font></li><ul><li><font face="arial, sans-serif" size="2">Displays the contents of memory at the given address (as doubles...&nbsp;</font><font color="#38761d" face="courier new, monospace" size="3"><b>dc, dw, dq</b></font><font face="arial, sans-serif" size="2">&nbsp;etc)</font></li></ul></ul><ul><li style="font-size:13.3333px"><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent">dt -r1 type address</b></li><ul style="font-size:13.3333px"><li><span style="font-family:arial,sans-serif;font-size:small;background-color:transparent">Displays an object of the given type stored at the given address, using 1 level of recursion.</span></li></ul><li><span style="background-color:transparent"><font color="#38761d" face="courier new, monospace" size="3"><b>uf symbol</b></font></span></li><ul><li><span style="background-color:transparent"><font face="arial, sans-serif" size="2">Disassembles a function showing source line number.</font></span></li></ul></ul><div style="font-size:13.3333px"><ul><li><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent">!stl</b></li><ul><li><span style="font-family:arial,sans-serif;font-size:small;background-color:transparent">Displays some stl structures (visualizer)</span></li></ul></ul><ul><li><font color="#38761d" face="courier new, monospace" size="3"><b>dt -n &lt;type&gt;</b></font></li><ul><li><font face="arial, sans-serif" size="2">Displays a type forcing the name to the supplied type (when there are problematic characters in the name)</font></li></ul></ul><ul><li><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent">~*n</b></li><ul><li><span style="font-family:arial,sans-serif;font-size:small;background-color:transparent">Freezes all threads</span></li></ul></ul><ul><li><font color="#38761d" face="courier new, monospace" size="3"><b>~4m</b></font></li><ul><li><font face="arial, sans-serif" size="2">Thaws thread number 4</font></li></ul></ul></div><div style="font-size:13.3333px"><ul><li><font color="#38761d" face="courier new, monospace" size="3"><b>Ctrl-Shift-I</b></font></li><ul><li><font face="arial, sans-serif" size="2">Sets the selected source line to be the next line to be executed</font></li></ul></ul></div><div style="font-size:13.3333px"><ul><li><font color="#38761d" face="courier new, monospace" size="3"><b>F5, Ctrl-Shift-F5, F9, F10, F11</b></font></li><ul><li><font face="arial, sans-serif" size="2">Run, restart, toggle breakpoint, step over, step into.</font></li></ul></ul></div><span style="font-size:13.3333px">One of the major benefits of WinDBG for debugging Chromium is its ability to automatically debug child processes. This allows you to skip all the complicated instructions above. The easiest way to enable this is to check "</span><i style="font-size:13.3333px">Debug child processes also</i><span style="font-size:13.3333px">" in the "</span><i style="font-size:13.3333px">Open Executable</i><span style="font-size:13.3333px">" dialog box when you start debugging or start "</span><b style="font-size:13.3333px"><font color="#38761d" face="courier new, monospace" size="3">windbg.exe -o</font></b><span style="font-size:13.3333px">". &nbsp;</span><b style="font-size:13.3333px">NOTE that on 64-bit Windows you may need to use the&nbsp;<a href="http://www.microsoft.com/whdc/devtools/debugging/install64bit.mspx" target="_blank">64-bit WinDbg</a>&nbsp;for this to work.&nbsp;</b><span style="font-size:13.3333px">You can switch dynamically the setting on and off at will with the&nbsp;</span><font color="#38761d" face="courier new, monospace" size="3" style="font-size:13.3333px"><b>.childdbg 1|0</b></font><span style="font-size:13.3333px">&nbsp;command, to follow a particular renderer creation. You can also attach to a running process (</span><font color="#38761d" face="courier new, monospace" size="3" style="font-size:13.3333px"><b>F6</b></font><span style="font-size:13.3333px">) and even detach without crashing the process (</span><font color="#38761d" face="courier new, monospace" size="3" style="font-size:13.3333px"><b>.detach</b></font><span style="font-size:13.3333px">)</span></div><div style="font-size:13.3333px"><br></div><h3 style="font-size:13.3333px"><a name="TOC-Common-commands-when-working-with-a-crash"></a><b><font size="3">Common commands when working with a crash</font></b></h3><div style="font-size:13.3333px"><ul><li><span style="background-color:transparent"><font color="#38761d" face="courier new, monospace" size="3"><b>!analyze -v</b></font></span></li><ul><li><span style="font-size:10pt;background-color:transparent">Displays a basic crash analysis report.</span></li></ul></ul><ul><li><font color="#38761d" face="courier new, monospace" size="3"><b>.ecxr</b></font></li><ul><li>Switch the context to the exception record.</li></ul></ul><div><ul><li><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent">dds address</b></li><ul><li><span style="font-family:arial,sans-serif;font-size:small;background-color:transparent">Displays symbols following address (as in a stack or vtable)</span></li></ul></ul></div><div><ul><li><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent"><span style="background-color:transparent">k = address&nbsp;address&nbsp;</span>address</b></li><ul><li><span style="font-family:arial,sans-serif;font-size:small;background-color:transparent">Rebuilds a call stack assuming that&nbsp;address&nbsp;is a valid stack frame.</span></li></ul></ul><div><ul><li><font color="#38761d" face="courier new, monospace" size="3"><b>lm vmchr*</b></font></li><ul><li><font face="arial, sans-serif" size="2">Lists verbose information about all modules with a name that starts with ch</font></li></ul></ul><ul><li><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent">ln address</b></li><ul><li><span style="font-family:arial,sans-serif;font-size:small;background-color:transparent">Lists all symbols that match a given address (dedups a symbol).</span></li></ul></ul><ul><li><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:medium;background-color:transparent">.load wow64exts</b></li><ul><li><span style="font-family:arial,sans-serif;font-size:small;background-color:transparent">On a 64-bit debugger, load the 32-bit extensions so that the current architecture can be switched</span></li></ul></ul><ul><li><font color="#38761d" face="courier new, monospace" size="3"><b>.effmach x86</b></font></li><ul><li><font face="arial, sans-serif" size="2">Switches the current architecture to 32-bit.</font></li></ul></ul><ul><li><font color="#38761d" face="courier new, monospace" size="3"><b>.effmach x86; k</b></font><font color="#38761d" face="courier new, monospace" size="3"><b>&nbsp;= @ebp @ebp @ebp</b></font></li><ul><li><font face="arial, sans-serif" size="2">Shows the 32-bit call stack from a 64-bit dump</font></li></ul></ul><div><font face="arial, sans-serif" size="2">For more info, see&nbsp;<a href="https://www.chromium.org/developers/how-tos/debugging-on-windows/example-of-working-with-a-dump">this example of working with a crash dump</a>, consult the program help (really, it's exhaustive!), see&nbsp;<a href="http://windbg.info/doc/1-common-cmds.html">Common windbg commands</a>&nbsp;or use your favorite search engine.</font></div></div></div></div><div style="font-size:13.3333px"><br></div><div style="font-size:13.3333px"><h3><a name="TOC-Random-handy-hints"></a><b><font size="3">Random ha</font></b><b style="font-size:13.3333px;background-color:transparent"><font size="3">ndy hints</font></b></h3></div><div><div><span style="font-size:13.3333px">To set attach to child processes, and also skip the first breakpoint and the extra breakpoint on process exit (this gives you a pretty responsive Chrome you can debug):</span></div><div><span style="font-size:13.3333px"><br></span></div><div><span style="font-size:13.3333px"><font color="#38761d" face="courier new, monospace"><b>sxn ibp</b></font></span></div><div><span style="font-size:13.3333px"><font color="#38761d" face="courier new, monospace"><b>sxn epr</b></font></span></div><div><span style="font-size:13.3333px"><font color="#38761d" face="courier new, monospace"><b>.childdbg 1</b></font></span></div><div><span style="font-size:13.3333px"><font color="#38761d" face="courier new, monospace"><b>g</b></font></span></div></div><div><span style="font-size:13.3333px"><br></span></div><div><span style="font-size:13.3333px">You can also get this effect by using the -g -G -o options when launching windbg, as in:</span></div><div><span style="font-size:13.3333px"><br></span></div><div><b style="color:rgb(56,118,29);font-family:courier new,monospace;font-size:13.3333px">windbg -g -G -o chrome.exe</b></div><div><span style="font-size:13.3333px"><br></span></div><div><span style="font-size:13.3333px">To automatically attach to processes you want to run over and over with complex command lines, just attach WinDBG to your command prompt and then <b><font color="#38761d" face="courier new, monospace">.childdbg 1</font></b> the command prompt - any processes launched from there will automatically be debugged. H/T pennymac@</span></div><div><span style="font-size:13.3333px"><br></span></div><div><span style="font-size:13.3333px">To set a breakpoint in the current process you can use this module/function syntax, among others:</span></div><div><span style="font-size:13.3333px"><br></span></div><div><span style="background-color:transparent;font-size:13.3333px"><font color="#38761d" face="courier new, monospace"><b>bp msvcrt!invalid_parameter</b></font></span></div><div><span style="font-size:13.3333px"><br></span></div><div><span style="font-size:13.3333px">To apply this to future processes that are created (assuming child process debugging is enabled) you can use this syntax, which says to run the bp command whenever a new process is created:</span></div><div><span style="font-size:13.3333px"><br></span></div><div><span style="background-color:transparent;font-size:13.3333px"><font color="#38761d" face="courier new, monospace"><b>sxe -c "bp msvcrt!invalid_parameter" cpr</b></font></span></div><div><span style="font-size:13.3333px"><br></span></div><div><span style="font-size:13.3333px">If you want a chance to do this when you first launch the browser process then you need to launch it without -g (so that the first breakpoint will be hit). You will probably then want to disable the "Create process" breakpoint and "Initial breakpoint" with these commands:</span></div><div><span style="font-size:13.3333px"><br></span></div><div><span style="background-color:transparent;font-size:13.3333px"><font color="#38761d" face="courier new, monospace"><b>sxn ibp; sxn epr;</b></font></span></div><div><span style="font-size:13.3333px"><br></span></div><div><span style="font-size:13.3333px">These are equivalent to going to&nbsp;</span><span style="background-color:transparent;font-size:13.3333px">Debug-&gt; Event Filters and setting "Create process" and "Initial breakpoint" to "Ignore".</span></div><div><span style="font-size:13.3333px"><br></span></div><div><span style="font-size:13.3333px">Always use <font color="#38761d" face="courier new, monospace"><b>--user-data-dir</b></font> when starting Chrome built with <font color="#38761d" face="courier new, monospace"><b>branding=Chrome</b></font> or else you're going to have a bad time.</span></div><h3><a name="TOC-Resources"></a><font size="3">Resources</font></h3><div><ul><li><a href="http://windbg.info/doc/2-windbg-a-z.html">Extensive slide deck</a>&nbsp;[windbg.info]</li></ul></div><div><span style="font-size:13.3333px"><br></span></div></div></div></div></div></div></td></tr></tbody></table>
</div> 
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="./windbg-help_files/jot_min_view__en.js.download"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
              
              window.setTimeout(window.print, 1000);
            </script>


</body></html>