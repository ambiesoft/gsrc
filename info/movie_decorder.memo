レンダラのmediaスレッドで行う（media.dll)

FFmpegVideoDecoder::FFmpegVideoDecoder(MediaLog* media_log)
media.dll!media::DefaultRendererFactory::CreateVideoDecoders(const scoped_refptr<base::SingleThreadTaskRunner> & media_task_runner, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> & request_overlay_info_cb, const gfx::ColorSpace & target_color_space, media::GpuVideoAcceleratorFactories * gpu_factories) Line 57	C++
media.dll!base::internal::FunctorTraits<std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > > (media::DefaultRendererFactory::*)(const scoped_refptr<base::SingleThreadTaskRunner> &, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> &, const gfx::ColorSpace &, media::GpuVideoAcceleratorFactories *) __attribute__((thiscall)),void>::Invoke<std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > > (media::DefaultRendererFactory::*)(const scoped_refptr<base::SingleThreadTaskRunner> &, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> &, const gfx::ColorSpace &, media::GpuVideoAcceleratorFactories *) __attribute__((thiscall)),media::DefaultRendererFactory *,const scoped_refptr<base::SingleThreadTaskRunner> &,const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> &,const gfx::ColorSpace &,media::GpuVideoAcceleratorFactories *const &>(std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > >(media::DefaultRendererFactory::*)(const scoped_refptr<base::SingleThreadTaskRunner> &, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> &, const gfx::ColorSpace &, media::GpuVideoAcceleratorFactories *) method, media::DefaultRendererFactory * && receiver_ptr, const scoped_refptr<base::SingleThreadTaskRunner> & args, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> & args, const gfx::ColorSpace & args, media::GpuVideoAcceleratorFactories * const & args) Line 499	C++
media.dll!base::internal::InvokeHelper<0,std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > > >::MakeItSo<std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > > (media::DefaultRendererFactory::*const &)(const scoped_refptr<base::SingleThreadTaskRunner> &, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> &, const gfx::ColorSpace &, media::GpuVideoAcceleratorFactories *) __attribute__((thiscall)),media::DefaultRendererFactory *,const scoped_refptr<base::SingleThreadTaskRunner> &,const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> &,const gfx::ColorSpace &,media::GpuVideoAcceleratorFactories *const &>(std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > >(media::DefaultRendererFactory::*)(const scoped_refptr<base::SingleThreadTaskRunner> &, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> &, const gfx::ColorSpace &, media::GpuVideoAcceleratorFactories *) & functor, media::DefaultRendererFactory * && args, const scoped_refptr<base::SingleThreadTaskRunner> & args, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> & args, const gfx::ColorSpace & args, media::GpuVideoAcceleratorFactories * const & args) Line 599	C++
media.dll!base::internal::Invoker<base::internal::BindState<std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > > (media::DefaultRendererFactory::*)(const scoped_refptr<base::SingleThreadTaskRunner> &, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> &, const gfx::ColorSpace &, media::GpuVideoAcceleratorFactories *) __attribute__((thiscall)),base::internal::UnretainedWrapper<media::DefaultRendererFactory>,scoped_refptr<base::SingleThreadTaskRunner>,base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)>,gfx::ColorSpace,media::GpuVideoAcceleratorFactories *>,std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > > ()>::RunImpl<std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > > (media::DefaultRendererFactory::*const &)(const scoped_refptr<base::SingleThreadTaskRunner> &, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> &, const gfx::ColorSpace &, media::GpuVideoAcceleratorFactories *) __attribute__((thiscall)),const std::__1::tuple<base::internal::UnretainedWrapper<media::DefaultRendererFactory>,scoped_refptr<base::SingleThreadTaskRunner>,base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)>,gfx::ColorSpace,media::GpuVideoAcceleratorFactories *> &,0,1,2,3,4>(std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > >(media::DefaultRendererFactory::*)(const scoped_refptr<base::SingleThreadTaskRunner> &, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> &, const gfx::ColorSpace &, media::GpuVideoAcceleratorFactories *) & functor, const std::__1::tuple<base::internal::UnretainedWrapper<media::DefaultRendererFactory>,scoped_refptr<base::SingleThreadTaskRunner>,base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)>,gfx::ColorSpace,media::GpuVideoAcceleratorFactories *> & bound, std::__1::integer_sequence<unsigned int,0,1,2,3,4>) Line 672	C++
media.dll!base::internal::Invoker<base::internal::BindState<std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > > (media::DefaultRendererFactory::*)(const scoped_refptr<base::SingleThreadTaskRunner> &, const base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)> &, const gfx::ColorSpace &, media::GpuVideoAcceleratorFactories *) __attribute__((thiscall)),base::internal::UnretainedWrapper<media::DefaultRendererFactory>,scoped_refptr<base::SingleThreadTaskRunner>,base::RepeatingCallback<void (bool, const base::RepeatingCallback<void (const media::OverlayInfo &)> &)>,gfx::ColorSpace,media::GpuVideoAcceleratorFactories *>,std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > > ()>::Run(base::internal::BindStateBase * base) Line 654	C++
media.dll!base::RepeatingCallback<std::__1::vector<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >,std::__1::allocator<std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> > > > ()>::Run() Line 132	C++
media.dll!media::DecoderSelector<media::DemuxerStream::VIDEO>::SelectDecoder(base::OnceCallback<void (std::__1::unique_ptr<media::VideoDecoder,std::__1::default_delete<media::VideoDecoder> >, std::__1::unique_ptr<media::DecryptingDemuxerStream,std::__1::default_delete<media::DecryptingDemuxerStream> >)> select_decoder_cb, base::RepeatingCallback<void (scoped_refptr<media::VideoFrame>)> output_cb) Line 88	C++
media.dll!media::DecoderStream<media::DemuxerStream::VIDEO>::SelectDecoder() Line 320	C++
media.dll!media::DecoderStream<media::DemuxerStream::VIDEO>::Initialize(media::DemuxerStream * stream, base::OnceCallback<void (bool)> init_cb, media::CdmContext * cdm_context, base::RepeatingCallback<void (const media::PipelineStatistics &)> statistics_cb, base::RepeatingCallback<void (media::WaitingReason)> waiting_cb) Line 171	C++
media.dll!media::VideoRendererImpl::Initialize(media::DemuxerStream * stream, media::CdmContext * cdm_context, media::RendererClient * client, const base::RepeatingCallback<bool (const std::__1::vector<base::TimeDelta,std::__1::allocator<base::TimeDelta> > &, std::__1::vector<base::TimeTicks,std::__1::allocator<base::TimeTicks> > *)> & wall_clock_time_cb, const base::RepeatingCallback<void (media::PipelineStatus)> & init_cb) Line 258	C++
media.dll!media::RendererImpl::InitializeVideoRenderer() Line 431	C++
media.dll!media::RendererImpl::OnAudioRendererInitializeDone(media::PipelineStatus status) Line 405	C++


void MojoVideoDecoder::Decode(scoped_refptr<DecoderBuffer> buffer,
                              DecodeCB decode_cb) {
void DecoderStreamTraits<DemuxerStream::VIDEO>::OnDecode(


//media:media_unittestsにfilterのテストがある
